<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>

    <link rel="stylesheet" href="/css/register.css">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>

<main class="w-full min-h-screen px-4 py-2 md:py-0 md:px-0">
    {{#error}}
        <div style="color: red; border: 1px solid red; padding: 10px; margin-bottom: 1rem;">
            {{error}}
        </div>
    {{/error}}
    <section id="contenedor-registro" class="w-full max-w-md px-2 mx-auto my-1 md:max-w-2xl lg:max-w-4xl min-h-0 h-full">
        <div id="registro-sup">
            <div class="w-20 ">
                <img id="registro-img" src="/imagenes/logo.jpg" alt="Logo del juego" class="w-full h-full rounded-full border-2 border-purple-300">
            </div>
            <p class="text-sm text-center mx-auto" id="registro-descripcion">Crear una cuenta</p>
        </div>
        <div id="registro-inf">
            <form action="/register/procesarRegistro" method="POST" id="contenedor-form-registro"
                  class="grid grid-cols-1 gap-4 md:grid-cols-2 p-1" enctype="multipart/form-data">

                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="nombre">Nombre completo:</label>
                    <input id="nombre" class="input-registro text-sm" placeholder="Juan Pérez" name="nombreCompleto" type="text" required>
                </div>
                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="nombre_usuario">Usuario:</label>
                    <input id="nombre_usuario" class="input-registro text-sm" placeholder="JuanPerez" name="nombre_usuario" type="text" required>
                </div>
                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="sexo">Sexo:</label>
                    <select id="sexo" name="sexo" class="input-registro text-sm">
                        <option value="Masculino">Masculino</option>
                        <option value="Femenino">Femenino</option>
                        <option value="Prefiero no cargarlo">Prefiero no cargarlo</option>
                    </select>
                </div>
                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="año">Año de Nacimiento:</label>
                    <input id="año" class="input-registro text-sm" placeholder="2000" name="año" type="number" required>
                </div>
                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="pais">Pais:</label>
                    <input id="pais" class="input-registro text-sm" placeholder="Clic para elegir en el mapa" name="pais" type="text" required readonly>
                </div>
                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="ciudad">Ciudad:</label>
                    <input id="ciudad" class="input-registro text-sm" placeholder="Se completará con el mapa" name="ciudad" type="text" required readonly>
                </div>
                <!-- input hidden latitud y longitud-->
                <input type="hidden" id="latitud" name="latitud">
                <input type="hidden" id="longitud" name="longitud">

                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="email">Email:</label>
                    <input id="email" class="input-registro text-sm" placeholder="example@algo.com" name="email" type="email" required>
                </div>
                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="password">Contraseña:</label>
                    <input id="password" class="input-registro text-sm" placeholder="••••••••" name="password" type="password" required>
                </div>
                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="foto">Foto de Perfil:</label>
                    <input id="foto" class="input-registro text-sm"  name="foto" type="file" required>
                </div>
                <div class="col-span-1 flex flex-col">
                    <label class="label text-sm" for="password2">Repetir Contraseña:</label>
                    <input id="password2" class="input-registro text-sm" placeholder="••••••••" name="password2" type="password" required>
                </div>


            </form>

            <button type="submit" form="contenedor-form-registro" id="btn-registrar" class="btn mx-auto w-full md:w-1/2 mt-4 text-sm">Registrarse</button>
            <a href="{{login}}" class="mt-3 text-sm">¿Ya tienes una cuenta? Inicia sesión</a>
        </div>
    </section>

</main>

<div id="map-popup" class="fixed inset-0 z-[9999] flex justify-center items-center bg-black/70">
    <div class="bg-white w-11/12 max-w-7xl h-5/6 rounded-xl shadow-2xl flex flex-col relative border border-gray-300">

        <div class="flex justify-between items-center p-4 border-b border-gray-200">
            <h3 class="font-bold text-2xl text-gray-800">Selecciona tu ubicación en el mapa</h3>
            <span id="close-map" class="text-gray-600 text-4xl font-bold cursor-pointer hover:text-gray-900">&times;</span>
        </div>


        <div id="map" class="flex-1 w-full h-full rounded-b-xl"></div>
    </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="/js/register.js"></script>


</body>
</html>